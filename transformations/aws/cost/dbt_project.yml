
# Name your project! Project names should contain only lowercase characters
# and underscores. A good package name should reflect your organization's
# name or the intended use of these models
name: 'aws_cost'
version: '1.0.0'
config-version: 2

# This setting configures which "profile" dbt uses for this project.
profile: 'aws_cost'

# These configurations specify where dbt should look for different types of files.
# The `model-paths` config, for example, states that models in this project can be
# found in the "models/" directory. You probably won't need to change these!
model-paths: ["models"]
analysis-paths: ["analyses"]
test-paths: ["tests"]
seed-paths: ["seeds"]
macro-paths: ["macros", "../macros", "../../macros"]
snapshot-paths: ["snapshots"]

clean-targets:         # directories to be removed by `dbt clean`
  - "target"
  - "dbt_packages"

vars:
  cost_usage_table: cost_usage_table

seeds:
  aws_cost: # you must include the project name
    cost_usage_table:
      +column_types:
        bill_billing_period_end_date: TIMESTAMP WITHOUT TIME ZONE
        reservation_amortized_upfront_cost_for_usage: DOUBLE PRECISION
        reservation_amortized_upfront_fee_for_billing_period: DOUBLE PRECISION
        reservation_effective_cost: DOUBLE PRECISION
        line_item_usage_start_date: TIMESTAMP WITHOUT TIME ZONE
        line_item_unblended_cost: DOUBLE PRECISION
        line_item_usage_end_date: TIMESTAMP WITHOUT TIME ZONE
        _cq_sync_time: TIMESTAMP WITHOUT TIME ZONE
        reservation_recurring_fee_for_usage: DOUBLE PRECISION
        line_item_blended_cost: DOUBLE PRECISION
        bill_billing_period_start_date: TIMESTAMP WITHOUT TIME ZONE
        line_item_usage_amount: DOUBLE PRECISION
        pricing_public_on_demand_cost: DOUBLE PRECISION
        line_item_normalization_factor: DOUBLE PRECISION
        reservation_unused_amortized_upfront_fee_for_billing_period: DOUBLE PRECISION
        reservation_unused_normalized_unit_quantity: DOUBLE PRECISION
        reservation_unused_quantity: DOUBLE PRECISION
        reservation_unused_recurring_fee: DOUBLE PRECISION
        reservation_upfront_value: DOUBLE PRECISION
        savings_plan_total_commitment_to_date: DOUBLE PRECISION
        line_item_normalized_usage_amount: DOUBLE PRECISION
        savings_plan_savings_plan_rate: DOUBLE PRECISION
        savings_plan_used_commitment: DOUBLE PRECISION
        savings_plan_savings_plan_effective_cost: DOUBLE PRECISION
        savings_plan_amortized_upfront_commitment_for_billing_period: DOUBLE PRECISION
        savings_plan_recurring_commitment_for_billing_period: DOUBLE PRECISION
        product_availability_zone: text
        product_capacitystatus: text
        product_category: text
        product_classicnetworkingsupport: text
        product_clock_speed: text
        product_current_generation: text
        product_database_edition: text
        product_database_engine: text
        product_dedicated_ebs_throughput: text
        product_deployment_option: text
        product_description: text
        product_durability: text
        product_ecu: text
        product_engine_code: text
        product_enhanced_networking_supported: text
        product_event_type: text
        product_free_usage_included: text
        product_from_location: text
        product_from_location_type: text
        product_from_region_code: text
        product_gpu_memory: text
        product_group: text
        product_group_description: text
        product_instance_family: text
        product_instance_type: text
        product_instance_type_family: text
        product_intel_avx2_available: text
        product_intel_avx_available: text
        product_intel_turbo_available: text
        product_license_model: text
        product_location: text
        product_location_type: text
        product_logs_destination: text
        product_marketoption: text
        product_max_iops_burst_performance: text
        product_max_iopsvolume: text
        product_max_throughputvolume: text
        product_max_volume_size: text
        product_maximum_extended_storage: text
        product_memory: text
        product_message_delivery_frequency: text
        product_message_delivery_order: text
        product_min_volume_size: text
        product_network_performance: text
        product_normalization_size_factor: text
        product_operating_system: text
        product_operation: text
        product_physical_processor: text
        product_platopricingtype: text
        product_platovolumetype: text
        product_pre_installed_sw: text
        product_processor_architecture: text
        product_processor_features: text
        product_product_family: text
        product_product_type: text
        product_queue_type: text
        product_region: text
        product_region_code: text
        product_scan_type: text
        product_servicecode: text
        product_servicename: text
        product_sku: text
        product_standard_storage_retention_included: text
        product_steps: text
        product_storage: text
        product_storage_class: text
        product_storage_media: text
        product_tenancy: text
        product_tier: text
        product_to_location: text
        product_to_location_type: text
        product_to_region_code: text
        product_transfer_type: text
        product_type: text
        product_usage_volume: text
        product_usagetype: text
        product_vcpu: text
        product_version: text
        product_volume_api_name: text
        product_volume_type: text
        product_vpcnetworkingsupport: text
        product_with_active_users: text
        pricing_rate_code: text
        pricing_rate_id: text
        pricing_currency: text
        pricing_public_on_demand_rate: text
        pricing_term: text
        pricing_unit: text
        reservation_end_time: text
        reservation_modification_status: text
        reservation_normalized_units_per_reservation: text
        reservation_start_time: text
        reservation_subscription_id: text
        reservation_total_reserved_normalized_units: text
        reservation_total_reserved_units: text
        reservation_units_per_reservation: text
        savings_plan_savings_plan_a_r_n: text
        reservation_number_of_reservations: text
        _cq_source_name: text
        identity_line_item_id: text
        identity_time_interval: text
        bill_invoice_id: text
        bill_invoicing_entity: text
        bill_billing_entity: text
        bill_bill_type: text
        bill_payer_account_id: text
        line_item_usage_account_id: text
        line_item_line_item_type: text
        line_item_product_code: text
        line_item_usage_type: text
        line_item_operation: text
        line_item_availability_zone: text
        line_item_resource_id: text
        line_item_currency_code: text
        line_item_unblended_rate: text
        line_item_blended_rate: text
        line_item_line_item_description: text
        line_item_tax_type: text
        line_item_legal_entity: text
        product_product_name: text
        product_size_flex: text
        product_alarm_type: text
        product_availability: text
        resource_tags_aws_cloudformation_logical_id: text
        resource_tags_aws_cloudformation_stack_name: text
        resource_tags_aws_lambda_function_name: text
        resource_tags_aws_ecs_cluster: text
        resource_tags_aws_elasticbeanstalk_environment_id: text
        resource_tags: text

# Configuring models
# Full documentation: https://docs.getdbt.com/docs/configuring-models


# In this example config, we tell dbt to build all models in the example/
# directory as views. These settings can be overridden in the individual model
# files using the `{{ config(...) }}` macro.
models:
  aws_cost:
    aws_cost__by_regions:
      +enabled: true
    aws_cost__by_resources:
      +enabled: true
    aws_cost__compute_optimizer_results:
      +enabled: true
    aws_cost__gp2_ebs_volumes:
      +enabled: true
    aws_cost__over_time:
      +enabled: true
    aws_cost__cloudformation_tag_spend_allocation:
      +enabled: false
    aws_cost__lambda_tag_spend_allocation:
      +enabled: false
    aws_cost__ecs_tag_spend_allocation:
      +enabled: false
    aws_cost__beanstalk_tag_spend_allocation:
      +enabled: false
    aws_cost__by_beanstalk_tag:
      +enabled: false
    aws_cost__by_cloudformation_tag:
      +enabled: false
    aws_cost__by_ecs_tag:
      +enabled: false
    aws_cost__by_lambda_tag:
      +enabled: false
    aws_cost__by_tag:
      +enabled: false
    aws_cost__by_untagged_resource:
      +enabled: false
    autoscaling_group_optimization_recommendations:
      +enabled: true
    ebs_volume_optimization_recommendations:
      +enabled: true
    ec2_instances_optimization_recommendations:
      +enabled: true
    ecs_service_optimization_recommendations:
      +enabled: true
    lambda_function_optimization_recommendations:
      +enabled: true
    aws_cost__anomaly_per_service:
      +enabled: true
    aws_cost__by_account:
      +enabled: true
    aws_cost__by_product:
      +enabled: true
    aws_cost__by_rds_usage:
      +enabled: true
    aws_cost__by_recovery_resources:
      +enabled: true
    aws_cost__by_under_utilized_resources:
      +enabled: true
    aws_cost__by_unused_resources:
      +enabled: true
    aws_cost__over_time_date:
      +enabled: true
    aws_cost__total:
      +enabled: true
    aws_cost__trusted_advisior_by_arn:
      +enabled: true
    aws_cost__trusted_advisior_results:
      +enabled: true
    aws_usage__data_usage_capacity:
      +enabled: true